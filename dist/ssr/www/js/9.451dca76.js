(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"2e62":function(t,r,s){},"51e7":function(t,r,s){"use strict";s.r(r);var o=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("q-layout",[s("div",{staticClass:"row container"},[s("div",{staticClass:"col-8"},[s("div",{staticClass:"carousel relative-position"},[s("div",{staticClass:"button absolute"},[s("div",{staticClass:"heart"},[s("div",{staticClass:"btn image",class:t.hasMyArtwork?"image1":"image2",on:{click:t.myArtwork}})])]),s("div",{staticClass:"q-pa-md carousel1"},[t.artwork&&t.artwork.commodity&&t.artwork.commodity.photos&&t.artwork.commodity.photos.length?s("q-carousel",{attrs:{swipeable:"",animated:"",thumbnails:"",infinite:"",arrows:"","control-type":"unelevated"},model:{value:t.slide,callback:function(r){t.slide=r},expression:"slide"}},t._l(t.artwork.commodity.photos,(function(t,r){return s("q-carousel-slide",{key:r,attrs:{name:r,"img-src":t.src}})})),1):t._e()],1)]),s("div",{staticClass:"top"}),s("div",{staticClass:"container2"},[s("div",{staticClass:"title"},[t._v(t._s(t.$t("artwork.commodity.introduction")))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("q-img",{attrs:{src:t.artwork&&t.artwork.commodity&&t.artwork.commodity.photos&&t.artwork.commodity.photos.length?t.artwork.commodity.photos[0].src:"",width:"350px"}})],1),s("div",{staticClass:"col-6 left2"},[s("div",{staticClass:"name"},[t._v(t._s(t.artwork.commodity.name))]),s("div",{staticClass:"year"},[t._v(t._s(t.artwork.commodity.createdDate.substr(0,4)))]),s("div",{staticClass:"painter"},[t._v(t._s(t.artwork.commodity.seller.firstname)+" "+t._s(t.artwork.commodity.seller.lastname)+" "+t._s(t.artwork.commodity.seller.country))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 item"},[s("div",{staticClass:"title2"},[t._v(t._s(t.$t("artwork.commodity.Technique")))]),s("div",{staticClass:"content"},[s("div",[t._v(t._s(t.artwork.commodity.categorys?t.artwork.commodity.categorys[0].name:""))])])]),s("div",{staticClass:"col-6 item"},[s("div",{staticClass:"title2"},[t._v(t._s(t.$t("artwork.commodity.size")))]),s("div",{staticClass:"contant"},[t._v(t._s(t.artwork.commodity.width)+"cmX"+t._s(t.artwork.commodity.height)+"cm")])])])])])]),s("div",{staticClass:"container2"},[s("div",{staticClass:"title"},[t._v(t._s(t.$t("artwork.commodity.AboutAuthor")))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-4"},[t.artwork&&t.artwork.seller&&t.artwork.seller.user&&t.artwork.seller.user.avatar?s("q-img",{attrs:{src:t.artwork.seller.user.avatar,width:"210px"}}):t._e()],1),s("div",{staticClass:"col-8"},[s("div",{staticClass:"row painter"},[s("div",{staticClass:"col"},[t._v(t._s(t.artwork.commodity.name))]),s("router-link",{staticClass:"col-grow",attrs:{to:"/"+t.$i18n.locale+"/artist/"+t.artwork.seller.sellerId}},[t._v(t._s(t.$t("artwork.commodity.enter"))+t._s(t.artwork.seller.firstname)+" "+t._s(t.artwork.seller.lastname)+t._s(t.$t("artwork.commodity.Homepage")))])],1),s("div",{staticClass:"content2"},[t._v("\n              "+t._s(t.artwork&&t.artwork.seller&&t.artwork.seller.metadata?t.artwork.seller.metadata.profile:"")+"\n            ")])])])])]),s("div",{staticClass:"col-4 left"},[s("div",{staticClass:"title-left"},[s("div",[t._v(t._s(t.artwork.commodity.name)+" "+t._s(t.artwork.commodity.width)+"cmX"+t._s(t.artwork.commodity.height)+"cm")]),s("div",[t._v(t._s(t.artwork.commodity.techniques[0].name))])]),s("div",{ref:"follow",staticClass:"follow relative-position"},[s("q-img",{staticClass:"close absolute btn",attrs:{src:"img/close.png",width:"20px"},on:{click:t.close}}),s("div",{staticClass:"row"},[s("div",{staticClass:"erweima"},[s("q-img",{attrs:{src:"img/erweima.png",width:"55px"}})],1),s("div",{staticClass:"follow-us col-grow"},[s("div",[t._v(t._s(t.$t("artwork.commodity.ScanAPP")))]),s("div",[t._v(t._s(t.$t("artwork.commodity.InstantlyInformation")))])])])],1)])]),s("div",{staticClass:"paints"},[s("div",{staticClass:"container text-center"},[s("div",{staticClass:"relative-position"},[s("div",{staticClass:"title"},[t._v(t._s(t.artwork.seller.firstname)+" "+t._s(t.artwork.seller.lastname)+t._s(t.$t("artwork.commodity.OtherWorks")))]),s("router-link",{staticClass:"more absolute btn",attrs:{to:"/"+t.$i18n.locale+"/artist/"+t.artwork.seller.sellerId+"#artworks"}},[t._v(t._s(t.$t("artwork.commodity.More")))])],1),t.artwork&&t.artwork.seller&&t.artwork.seller.commoditys&&t.artwork.seller.commoditys.length?s("div",{staticClass:"row"},t._l(t.artwork.seller.commoditys,(function(r,o){return r.commodityId!==t.$route.params.artworkId?s("router-link",{key:"sellerCommodity"+o,staticClass:"col-3",attrs:{to:""+r.commodityId}},[s("div",{staticClass:"paint"},[s("q-img",{attrs:{src:r.photos&&r.photos.length?r.photos[0].src:"",width:"208px",height:"208px"}})],1),s("div",{staticClass:"text text-left"},[s("div",[t._v(t._s(r.category?r.category[0].name:""))]),s("div",[t._v(t._s(r.width)+"x"+t._s(r.height)+"cm")])])]):t._e()})),1):t._e()])]),s("div",{staticClass:"similar-paints paints"},[s("div",{staticClass:"container text-center"},[s("div",{staticClass:"relative-position"},[s("div",{staticClass:"title"},[t._v(t._s(t.$t("artwork.commodity.SimilarWorksArt")))]),s("router-link",{staticClass:"more absolute",attrs:{to:"/"+t.$i18n.locale+"/artwork?shape=0"}},[t._v(t._s(t.$t("artwork.commodity.More")))])],1),s("div",{staticClass:"row"},t._l(t.artwork.commoditySimilar,(function(r,o){return t.artwork.commoditySimilar.length?s("router-link",{key:"commoditySimilar"+o,staticClass:"col-3",attrs:{to:""+r.commodityId}},[s("div",{staticClass:"paint"},[s("q-img",{attrs:{src:r.photos&&r.photos.length?r.photos[0].src:"",width:"208px",height:"208px"}})],1),s("div",{staticClass:"text text-left"},[s("div",[t._v(t._s(r.categorys?r.categorys[0].name:""))]),s("div",[t._v(t._s(r.width)+"x"+t._s(r.height)+"cm")])])]):t._e()})),1)])]),s("div",{staticClass:"paints history"},[s("div",{staticClass:"container text-center"},[s("div",{staticClass:"relative-position"},[s("div",{staticClass:"title"},[t._v(t._s(t.$t("artwork.commodity.RecentlyViewedWorks")))])]),s("div",{staticClass:"row"},t._l(t.browsingHistory,(function(r,o){return t.browsingHistory&&t.browsingHistory.length?s("div",{key:"browsingHistory"+o,staticClass:"col-3"},[s("div",{staticClass:"paint"},[s("q-img",{attrs:{src:r&&r.photos&&r.photos.length?r.photos[0].src:"",width:"208px",height:"208px"}})],1),s("div",{staticClass:"text text-left"},[s("div",[t._v(t._s(r.categorys?r.categorys[0].name:""))]),s("div",[t._v(t._s(r.width)+"x"+t._s(r.height)+"cm")])])]):t._e()})),0)])])])},e=[],i=(s("d81d"),s("cca6"),s("96cf"),s("c973")),a=s.n(i),c={data:function(){return{slide:0,photoFrame:"",photoFrames:[{label:"artwork.commodity.BlackWooden",price:"800"},{label:"artwork.commodity.WhiteWooden",price:"800"},{label:"artwork.commodity.DarkWood",price:"800"},{label:"artwork.commodity.pureBlack",price:"800"},{label:"artwork.commodity.pureWhite",price:"800"},{label:"artwork.commodity.Golden",price:"800"},{label:"artwork.commodity.LightWood",price:"800"}],photoFrameSize:"",defaultPriceOptions:[{label:"CNY",value:"CNY",locale:"zh-cn",price:""},{label:"USD",value:"USD",locale:"en-us",price:""},{label:"JPY",value:"JPY",locale:"ja-jp",price:""},{label:"EUR",value:"EUR",locale:"es-es",price:""}],options:["CNY","USD","JPY","EUR"],currency:"CNY",prise:"7000",bidPrice:"",bidEmail:"",bidMsg:"",bidPop:!1,hasMyArtwork:!1}},preFetch:function(t){return a()(regeneratorRuntime.mark((function r(){var s,o,e,i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.store,o=t.currentRoute,e=o.params,i=e.locale,a=e.artworkId,r.next=4,s.dispatch("artwork/getArtwork",{locale:i,artworkId:a});case 4:return r.next=6,s.dispatch("artwork/getArtwork",{locale:i,artworkId:a});case 6:case"end":return r.stop()}}),r)})))()},mounted:function(){var t=this;return a()(regeneratorRuntime.mark((function r(){var s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=!1,console.log("commodity",t.$store.state.user.info),!t.$store.state.user.info){r.next=9;break}return r.next=5,t.$store.dispatch("my/hasMyArtwork",{userId:t.$store.state.user.info.userId,artworkId:t.$route.params.artworkId});case 5:return o=r.sent,s=o.success,r.next=9,t.$store.dispatch("my/addMyBrowsingHistory",{userId:t.$store.state.user.info.userId,artworkId:t.$route.params.artworkId});case 9:t.hasMyArtwork=s;case 10:case"end":return r.stop()}}),r)})))()},computed:{artwork:function(){return this.$store.state.artwork.data},browsingHistory:function(){return this.$store.state.my.browsingHistory},priceOptions:function(){var t=this;return console.log("this.$store.state.artwork.data.commodity",this.$store.state.artwork.data.commodity),this.defaultPriceOptions.map((function(r){return Object.assign(r,{price:t.$store.state.artwork.data.commodity.price[r.locale]})}))},price:function(){for(var t in console.log("this.priceOptions",this.priceOptions),this.priceOptions)if(console.log("price item",this.priceOptions[t],this.currency),this.priceOptions[t].label==this.currency)return this.priceOptions[t].price}},methods:{close:function(){this.$refs.follow.classList.add("closepage")},closeOfferPage:function(){this.bidPop=!1},openOfferPage:function(){this.bidPop=!0},myArtwork:function(){var t=this;return a()(regeneratorRuntime.mark((function r(){var s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(console.log("this.$store.state.user.info",t.$store.state.user.info),t.$store.state.user.info){r.next=4;break}return t.$q.notify({position:"top",timeout:1500,message:t.$t("layout.pleaseLoginFirst"),color:"negative"}),r.abrupt("return");case 4:if(!t.hasMyArtwork){r.next=11;break}return r.next=7,t.$store.dispatch("my/delMyArtwork",{userId:t.$store.state.user.info.userId,artworkId:t.$route.params.artworkId});case 7:s=r.sent,s.success?(t.hasMyArtwork=!1,t.$q.notify({position:"top",timeout:1500,message:t.$t("artwork.commodity.Unlike"),color:"positive"})):t.$q.notify({position:"top",timeout:1500,message:s.msg,color:"negative"}),r.next=15;break;case 11:return r.next=13,t.$store.dispatch("my/addMyArtwork",{userId:t.$store.state.user.info.userId,artworkId:t.$route.params.artworkId});case 13:o=r.sent,o.success?(t.hasMyArtwork=!0,t.$q.notify({position:"top",timeout:1500,message:t.$t("artwork.commodity.LikeSuccess"),color:"positive"})):t.$q.notify({position:"top",timeout:1500,message:o.msg,color:"negative"});case 15:case"end":return r.stop()}}),r)})))()},subBidPrice:function(){this.bidPrice?this.bidPrice-=1:this.bidPrice=this.price-1},addBidPrice:function(){this.bidPrice?this.bidPrice+=1:this.bidPrice=this.price+1},bid:function(){var t=this;return a()(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("artwork/sendEmailBid",{email:t.bidEmail,currency:t.currency,price:t.bidPrice||t.price,msg:t.bidMsg});case 2:s=r.sent,console.log("sendEmailBid",s),s.success?(t.bidPop=!1,t.$q.notify({position:"top",timeout:1500,message:t.$t("artwork.commodity.bidSuccess"),color:"negative"})):t.$q.notify({position:"top",timeout:1500,message:t.$t("artwork.commodity.bidFaile"),color:"negative"});case 5:case"end":return r.stop()}}),r)})))()}}},n=c,l=(s("7a40"),s("2877")),d=s("4d5a"),m=s("880c"),u=s("62cd"),w=s("068f"),p=s("ddd8"),k=s("9c40"),v=s("eebe"),h=s.n(v),y=Object(l["a"])(n,o,e,!1,null,"1e8686cd",null);r["default"]=y.exports;h()(y,"components",{QLayout:d["a"],QCarousel:m["a"],QCarouselSlide:u["a"],QImg:w["a"],QSelect:p["a"],QBtn:k["a"]})},"7a40":function(t,r,s){"use strict";s("2e62")}}]);