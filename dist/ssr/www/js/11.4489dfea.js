(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"51e7":function(t,s,o){"use strict";o.r(s);var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("q-layout",[o("div",{staticClass:"row container"},[o("div",{staticClass:"col-8"},[o("div",{staticClass:"carousel relative-position"},[o("div",{staticClass:"button absolute"},[o("div",{staticClass:"heart"},[o("div",{staticClass:"btn image",class:t.hasMyArtwork?"image1":"image2",on:{click:t.myArtwork}})])]),o("div",{staticClass:"q-pa-md carousel1"},[t.artwork&&t.artwork.commodity&&t.artwork.commodity.photos&&t.artwork.commodity.photos.length?o("q-carousel",{attrs:{swipeable:"",animated:"",thumbnails:"",infinite:"",arrows:"","control-type":"unelevated"},model:{value:t.slide,callback:function(s){t.slide=s},expression:"slide"}},t._l(t.artwork.commodity.photos,(function(t,s){return o("q-carousel-slide",{key:s,attrs:{name:s,"img-src":t.src}})})),1):t._e()],1)]),o("div",{staticClass:"top"}),o("div",{staticClass:"container2"},[o("div",{staticClass:"title"},[t._v(t._s(t.$t("artwork.commodity.introduction")))]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("q-img",{attrs:{src:t.artwork&&t.artwork.commodity&&t.artwork.commodity.photos&&t.artwork.commodity.photos.length?t.artwork.commodity.photos[0].src:"",width:"350px"}})],1),o("div",{staticClass:"col-6 left2"},[o("div",{staticClass:"name"},[t._v(t._s(t.artwork.commodity.name))]),o("div",{staticClass:"year title-color"},[t._v(t._s(t.artwork.commodity.createdDate.substr(0,4)))]),o("div",{staticClass:"painter title-color"},[t._v(t._s(t.artwork.commodity.seller.firstname)+" "+t._s(t.artwork.commodity.seller.lastname)+" "+t._s(t.artwork.commodity.seller.country))]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6 item"},[o("div",{staticClass:"title2 title-color"},[t._v(t._s(t.$t("artwork.commodity.Technique")))]),o("div",{staticClass:"content"},[o("div",[t._v(t._s(t.artwork.commodity.categorys?t.artwork.commodity.categorys[0].name:""))])])]),o("div",{staticClass:"col-6 item"},[o("div",{staticClass:"title2 title-color"},[t._v(t._s(t.$t("artwork.commodity.OtherDetails")))]),o("div",{staticClass:"contant"},[t._v(t._s(t.$t("artwork.commodity.CanFree")))])]),o("div",{staticClass:"col-6 item"},[o("div",{staticClass:"title2 title-color"},[t._v(t._s(t.$t("artwork.commodity.size")))]),o("div",{staticClass:"contant"},[t._v(t._s(t.artwork.commodity.width)+"cmX"+t._s(t.artwork.commodity.height)+"cm")])]),o("div",{staticClass:"col-6 item"},[o("div",{staticClass:"title2 title-color"},[t._v(t._s(t.$t("artwork.commodity.Postage")))]),o("div",{staticClass:"contant"},[t._v(t._s(t.$t("artwork.commodity.FreeWeeks")))])])])])])]),o("div",{staticClass:"container2"},[o("div",{staticClass:"title"},[t._v(t._s(t.$t("artwork.commodity.AboutAuthor")))]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-4"},[t.artwork&&t.artwork.seller&&t.artwork.seller.user&&t.artwork.seller.user.avatar?o("q-img",{attrs:{src:t.artwork.seller.user.avatar,width:"210px"}}):t._e()],1),o("div",{staticClass:"col-8"},[o("div",{staticClass:"row painter"},[o("div",{staticClass:"col title-color"},[t._v(t._s(t.artwork.commodity.name))]),o("router-link",{staticClass:"col-grow",attrs:{to:"/"+t.$i18n.locale+"/artist/"+t.artwork.seller.sellerId}},[t._v(t._s(t.$t("artwork.commodity.enter"))+t._s(t.artwork.seller.firstname)+" "+t._s(t.artwork.seller.lastname)+t._s(t.$t("artwork.commodity.Homepage")))])],1),o("div",{staticClass:"content2"},[t._v("\n              "+t._s(t.artwork&&t.artwork.seller&&t.artwork.seller.metadata?t.artwork.seller.metadata.profile:"")+"\n            ")])])])])]),o("div",{staticClass:"col-4 left"},[o("div",{staticClass:"title-left"},[o("div",[t._v(t._s(t.artwork.commodity.name)+" "+t._s(t.artwork.commodity.width)+"cmX"+t._s(t.artwork.commodity.height)+"cm")]),o("div",[t._v(t._s(t.artwork.commodity.techniques[0].name))])]),2==t.artwork.commodity.state?o("div",{staticClass:"soldout"},[t._v("\n        "+t._s(t.$t("artwork.commodity.Sold"))+"\n      ")]):3==t.artwork.commodity.state?o("div",{staticClass:"off"},[t._v("\n        "+t._s(t.$t("artwork.commodity.HasBeenRemoved"))+"\n      ")]):o("div",{staticClass:"prise"},[t._v(t._s(t.price))]),o("q-select",{staticClass:"currency",attrs:{borderless:"",options:t.priceOptions,"emit-value":""},scopedSlots:t._u([{key:"selected-item",fn:function(s){return[o("span",{staticClass:"currency-span"},[t._v(t._s(s.opt))])]}}]),model:{value:t.currency,callback:function(s){t.currency=s},expression:"currency"}}),o("div",{staticClass:"title2"},[t._v(t._s(t.$t("artwork.commodity.FrameSelectionMaterial")))]),o("div",{staticClass:"row text-center frames"},[t._l(t.photoFrames,(function(s,e){return o("div",{key:e,staticClass:"btn col-4"},[o("q-img",{staticClass:"frame",class:{active:t.photoFrame==e},attrs:{src:"img/photoFrame/photoFrame-"+(e+1)+".png"},on:{click:function(s){t.photoFrame=e}}}),o("div",{staticClass:"color"},[t._v(t._s(t.$t(s.label)))])],1)})),o("div",{staticClass:"col-4"},[o("div",{staticClass:"frame custom"}),o("div",{staticClass:"color"},[t._v(t._s(t.$t("artwork.commodity.customMade")))])])],2),o("div",{staticClass:"title2"},[t._v(t._s(t.$t("artwork.commodity.FrameSelectionSize")))]),o("div",{staticClass:"row"},[o("div",{staticClass:"size btn col-4",class:{active:"small"==t.photoFrameSize},on:{click:function(s){t.photoFrameSize="small"}}},[t._v(t._s(t.$t("artwork.commodity.small")))]),o("div",{staticClass:"size btn col-4",class:{active:"middle"==t.photoFrameSize},on:{click:function(s){t.photoFrameSize="middle"}}},[t._v(t._s(t.$t("artwork.commodity.in")))]),o("div",{staticClass:"size btn col-4",class:{active:"large"==t.photoFrameSize},on:{click:function(s){t.photoFrameSize="large"}}},[t._v(t._s(t.$t("artwork.commodity.Big")))])]),o("div",{staticClass:"row text-center items-end advantages"},[o("div",{staticClass:"col-4 item2"},[o("q-img",{staticClass:"image",attrs:{src:"img/send.png",width:"30px"}}),o("div",[t._v(t._s(t.$t("artwork.commodity.FreeShippingWorldwide")))])],1),o("div",{staticClass:"col-4 item2"},[o("q-img",{staticClass:"image",attrs:{src:"img/change.png",width:"35px"}}),o("div",[t._v(t._s(t.$t("artwork.commodity.FreeExchange")))])],1),o("div",{staticClass:"col-4 item2"},[o("q-img",{staticClass:"image",attrs:{src:"img/pay.png",width:"30px"}}),o("div",[t._v(t._s(t.$t("artwork.commodity.SafePayment")))])],1)]),o("div",{staticClass:"buy text-center relative-position"},[o("div",{staticClass:"prise prise2"},[o("span",{staticClass:"symbol"},[t._v("¥")]),t._v(" 7，000")]),o("div",{staticClass:"buynow text-white btn"},[t._v("点击购买")]),o("div",{staticClass:"makeoffer text-white btn",on:{click:t.openOfferPage}},[t._v("\n          出价\n        ")]),o("div",{staticClass:"row contactus"},[o("div",{staticClass:"contact col-grow btn"},[o("q-img",{attrs:{src:"img/contact.png",width:"20px"}})],1),o("div",{staticClass:"askquestion col text-left btn"},[o("div",[t._v("对于购买此画有任何疑问？")]),o("div",[t._v("与永宝专业客服在线交流")])])]),o("div",{ref:"offerPage",staticClass:"offer relative-position absolute closepage"},[o("q-img",{staticClass:"offer-close absolute btn",attrs:{src:"img/close.png",width:"20px"},on:{click:t.closeOfferPage}}),o("div",{staticClass:"offer-title text-left"},[t._v("就此作品向艺术家出价")]),o("div",{staticClass:"newprise bg-white text-left"},[o("span",{staticClass:"symbol2"},[t._v("¥")]),o("span",{staticClass:"sub btn"},[t._v("－")]),o("span",{staticClass:"num btn"},[t._v(t._s(t.prise))]),o("span",{staticClass:"add btn"},[t._v("＋")])]),o("div",{staticClass:"email-outer bg-white"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"email",attrs:{type:"text",placeholder:"您的电子邮件地址"},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}})]),o("div",{staticClass:"msg-outer bg-white"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"msg",attrs:{placeholder:"您的出价是多少呢？您也可以写下您的其他问题，留下微信或电话号码。我们的工作人员会很快联系您的"},domProps:{value:t.msg},on:{input:function(s){s.target.composing||(t.msg=s.target.value)}}})])],1)]),o("div",{ref:"scrollDom",class:{scrollDomClass:t.scrollDomClass},style:{top:(t.scrollDomClass?50:t.scrollDomTop)+"px",left:t.scrollDomLeft+"px"},attrs:{id:"scrollDom"}},[o("div",{staticClass:"sold relative-position"},[o("div",{staticClass:"sold-title"},[t._v(t._s(t.$t("artwork.commodity.YourSold")))]),o("div",[t._v("\n          "+t._s(t.$t("artwork.commodity.goodNews"))+"\n        ")]),o("div",{staticClass:"btn sold-btn text-white text-center",on:{click:t.openOfferPage}},[t._v("\n          "+t._s(t.$t("artwork.commodity.CustomizedArtist"))+"\n        ")]),o("div",{staticClass:"row contactus"},[o("div",{staticClass:"contact col-grow btn"},[o("q-img",{attrs:{src:"img/contact.png",width:"20px"}})],1),o("div",{staticClass:"askquestion col text-left btn"},[o("div",[t._v(t._s(t.$t("artwork.commodity.HavePainting")))]),o("div",[t._v(t._s(t.$t("artwork.commodity.OnlineService")))])])]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.bidPop,expression:"bidPop"}],ref:"offerPage",staticClass:"offer relative-position absolute "},[o("q-img",{staticClass:"offer-close absolute btn",attrs:{src:"img/close.png",width:"20px"},on:{click:t.closeOfferPage}}),o("div",{staticClass:"offer-title text-left"},[t._v(t._s(t.$t("artwork.commodity.BidWork")))]),o("div",{staticClass:"newprise bg-white text-left"},[o("span",{staticClass:"symbol2"},[t._v(t._s(t.currency))]),o("span",{staticClass:"sub btn",on:{click:t.subBidPrice}},[t._v("－")]),o("span",{staticClass:"num btn"},[t._v(t._s(t.bidPrice?t.bidPrice:t.price))]),o("span",{staticClass:"add btn",on:{click:t.addBidPrice}},[t._v("＋")])]),o("div",{staticClass:"email-outer bg-white"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.bidEmail,expression:"bidEmail"}],staticClass:"email",attrs:{type:"text",placeholder:t.$t("artwork.commodity.EmailAddress")},domProps:{value:t.bidEmail},on:{input:function(s){s.target.composing||(t.bidEmail=s.target.value)}}})]),o("div",{staticClass:"msg-outer bg-white"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bidMsg,expression:"bidMsg"}],staticClass:"msg",attrs:{placeholder:t.$t("artwork.commodity.yourBid")},domProps:{value:t.bidMsg},on:{input:function(s){s.target.composing||(t.bidMsg=s.target.value)}}})]),o("q-btn",{staticClass:"full-width",attrs:{color:"black",label:t.$t("artwork.commodity.bid")},on:{click:t.bid}})],1)]),o("div",{ref:"follow",staticClass:"follow relative-position"},[o("q-img",{staticClass:"close absolute btn",attrs:{src:"img/close.png",width:"20px"},on:{click:t.close}}),o("div",{staticClass:"row"},[o("div",{staticClass:"erweima"},[o("q-img",{attrs:{src:"img/erweima.png",width:"55px"}})],1),o("div",{staticClass:"follow-us col-grow"},[o("div",[t._v(t._s(t.$t("artwork.commodity.ScanAPP")))]),o("div",[t._v(t._s(t.$t("artwork.commodity.InstantlyInformation")))])])])],1)])],1)]),t.artwork&&t.artwork.seller&&t.artwork.seller.commoditys&&t.artwork.seller.commoditys.length?o("div",{staticClass:"paints"},[o("div",{staticClass:"container text-center"},[o("div",{staticClass:"relative-position"},[o("div",{staticClass:"title"},[t._v(t._s(t.artwork.seller.firstname)+" "+t._s(t.artwork.seller.lastname)+t._s(t.$t("artwork.commodity.OtherWorks")))]),o("router-link",{staticClass:"more absolute btn",attrs:{to:"/"+t.$i18n.locale+"/artist/"+t.artwork.seller.sellerId+"#artworks"}},[t._v(t._s(t.$t("artwork.commodity.More")))])],1),o("div",{staticClass:"row"},t._l(t.artwork.seller.commoditys,(function(s,e){return s.commodityId!==t.$route.params.artworkId?o("router-link",{key:"sellerCommodity"+e,staticClass:"col-3",attrs:{to:""+s.commodityId}},[o("div",{staticClass:"paint"},[o("q-img",{attrs:{src:s.photos&&s.photos.length?s.photos[0].src:"",width:"208px",height:"208px"}})],1),o("div",{staticClass:"text text-left"},[o("div",[t._v(t._s(s.category?s.category[0].name:""))]),o("div",[t._v(t._s(s.width)+"x"+t._s(s.height)+"cm")])])]):t._e()})),1)])]):t._e(),o("div",{staticClass:"similar-paints paints"},[o("div",{staticClass:"container text-center"},[o("div",{staticClass:"relative-position"},[o("div",{staticClass:"title"},[t._v(t._s(t.$t("artwork.commodity.SimilarWorksArt")))]),o("router-link",{staticClass:"more absolute",attrs:{to:"/"+t.$i18n.locale+"/artwork?shape=0"}},[t._v(t._s(t.$t("artwork.commodity.More")))])],1),o("div",{staticClass:"row"},t._l(t.artwork.commoditySimilar,(function(s,e){return t.artwork.commoditySimilar.length?o("router-link",{key:"commoditySimilar"+e,staticClass:"col-3",attrs:{to:""+s.commodityId}},[o("div",{staticClass:"paint"},[o("q-img",{attrs:{src:s.photos&&s.photos.length?s.photos[0].src:"",width:"208px",height:"208px"}})],1),o("div",{staticClass:"text text-left"},[o("div",[t._v(t._s(s.categorys?s.categorys[0].name:""))]),o("div",[t._v(t._s(s.width)+"x"+t._s(s.height)+"cm")])])]):t._e()})),1)])]),t.browsingHistory&&t.browsingHistory.length?o("div",{staticClass:"paints history"},[o("div",{staticClass:"container text-center"},[o("div",{staticClass:"relative-position"},[o("div",{staticClass:"title"},[t._v(t._s(t.$t("artwork.commodity.RecentlyViewedWorks")))]),t.$store.state.user.info?o("router-link",{staticClass:"more absolute btn",attrs:{to:"/"+t.$i18n.locale+"/mine/wishlist"}},[t._v("更多")]):t._e()],1),o("div",{staticClass:"row"},t._l(t.browsingHistory,(function(s,e){return o("div",{key:"browsingHistory"+e,staticClass:"col-3"},[o("div",{staticClass:"paint"},[o("q-img",{attrs:{src:s&&s.photos&&s.photos.length?s.photos[0].src:"",width:"208px",height:"208px"}})],1),o("div",{staticClass:"text text-left"},[o("div",[t._v(t._s(s.categorys?s.categorys[0].name:""))]),o("div",[t._v(t._s(s.width)+"x"+t._s(s.height)+"cm")])])])})),0)])]):t._e()])},i=[],a=(o("d81d"),o("cca6"),o("96cf"),o("c973")),r=o.n(a),c={data:function(){return{slide:0,photoFrame:"",photoFrames:[{label:"artwork.commodity.BlackWooden",price:"800"},{label:"artwork.commodity.WhiteWooden",price:"800"},{label:"artwork.commodity.DarkWood",price:"800"},{label:"artwork.commodity.pureBlack",price:"800"},{label:"artwork.commodity.pureWhite",price:"800"},{label:"artwork.commodity.Golden",price:"800"},{label:"artwork.commodity.LightWood",price:"800"}],photoFrameSize:"",defaultPriceOptions:[{label:"CNY",value:"CNY",locale:"zh-cn",price:""},{label:"USD",value:"USD",locale:"en-us",price:""},{label:"JPY",value:"JPY",locale:"ja-jp",price:""},{label:"EUR",value:"EUR",locale:"es-es",price:""}],options:["CNY","USD","JPY","EUR"],currency:"CNY",prise:"7000",bidPrice:"",bidEmail:"",bidMsg:"",bidPop:!1,hasMyArtwork:!1,scrollDomClass:!1,scrollDomTop:980,scrollDomLeft:1121,email:"",msg:""}},preFetch:function(t){return r()(regeneratorRuntime.mark((function s(){var o,e,i,a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return o=t.store,e=t.currentRoute,i=e.params,a=i.locale,r=i.artworkId,s.next=4,o.dispatch("artwork/getArtwork",{locale:a,artworkId:r});case 4:return s.next=6,o.dispatch("artwork/getArtwork",{locale:a,artworkId:r});case 6:case"end":return s.stop()}}),s)})))()},mounted:function(){var t=this;return r()(regeneratorRuntime.mark((function s(){var o,e;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(o=!1,console.log("commodity",t.$store.state.user.info),!t.$store.state.user.info){s.next=9;break}return s.next=5,t.$store.dispatch("my/hasMyArtwork",{userId:t.$store.state.user.info.userId,artworkId:t.$route.params.artworkId});case 5:return e=s.sent,o=e.success,s.next=9,t.$store.dispatch("my/addMyBrowsingHistory",{userId:t.$store.state.user.info.userId,artworkId:t.$route.params.artworkId});case 9:t.hasMyArtwork=o,t.scrollDomTop=t.$refs.scrollDom.offsetTop,t.scrollDomLeft=t.$refs.scrollDom.offsetLeft,window.addEventListener("scroll",t.handleScroll);case 13:case"end":return s.stop()}}),s)})))()},destroyed:function(){document.removeEventListener("scroll",this.handleScroll)},computed:{artwork:function(){return this.$store.state.artwork.data},browsingHistory:function(){return this.$store.state.my.browsingHistory},priceOptions:function(){var t=this;return console.log("this.$store.state.artwork.data.commodity",this.$store.state.artwork.data.commodity),this.defaultPriceOptions.map((function(s){return Object.assign(s,{price:t.$store.state.artwork.data.commodity.price[s.locale]})}))},price:function(){for(var t in console.log("this.priceOptions",this.priceOptions),this.priceOptions)if(console.log("price item",this.priceOptions[t],this.currency),this.priceOptions[t].label==this.currency)return this.priceOptions[t].price}},methods:{handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;t>0&&t-30>this.scrollDomTop?this.scrollDomClass=!0:this.scrollDomClass=!1},close:function(){this.$refs.follow.classList.add("closepage")},closeOfferPage:function(){this.bidPop=!1},openOfferPage:function(){this.bidPop=!0},myArtwork:function(){var t=this;return r()(regeneratorRuntime.mark((function s(){var o,e;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(console.log("this.$store.state.user.info",t.$store.state.user.info),t.$store.state.user.info){s.next=4;break}return t.$q.notify({position:"top",timeout:1500,message:t.$t("layout.pleaseLoginFirst"),color:"negative"}),s.abrupt("return");case 4:if(!t.hasMyArtwork){s.next=11;break}return s.next=7,t.$store.dispatch("my/delMyArtwork",{userId:t.$store.state.user.info.userId,artworkId:t.$route.params.artworkId});case 7:o=s.sent,o.success?(t.hasMyArtwork=!1,t.$q.notify({position:"top",timeout:1500,message:t.$t("artwork.commodity.Unlike"),color:"positive"})):t.$q.notify({position:"top",timeout:1500,message:o.msg,color:"negative"}),s.next=15;break;case 11:return s.next=13,t.$store.dispatch("my/addMyArtwork",{userId:t.$store.state.user.info.userId,artworkId:t.$route.params.artworkId});case 13:e=s.sent,e.success?(t.hasMyArtwork=!0,t.$q.notify({position:"top",timeout:1500,message:t.$t("artwork.commodity.LikeSuccess"),color:"positive"})):t.$q.notify({position:"top",timeout:1500,message:e.msg,color:"negative"});case 15:case"end":return s.stop()}}),s)})))()},subBidPrice:function(){this.bidPrice?this.bidPrice-=1:this.bidPrice=this.price-1},addBidPrice:function(){this.bidPrice?this.bidPrice+=1:this.bidPrice=this.price+1},bid:function(){var t=this;return r()(regeneratorRuntime.mark((function s(){var o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$store.dispatch("artwork/sendEmailBid",{email:t.bidEmail,currency:t.currency,price:t.bidPrice||t.price,msg:t.bidMsg});case 2:o=s.sent,console.log("sendEmailBid",o),o.success?(t.bidPop=!1,t.$q.notify({position:"top",timeout:1500,message:t.$t("artwork.commodity.bidSuccess"),color:"negative"})):t.$q.notify({position:"top",timeout:1500,message:t.$t("artwork.commodity.bidFaile"),color:"negative"});case 5:case"end":return s.stop()}}),s)})))()}}},l=c,n=(o("fce5"),o("2877")),d=o("4d5a"),m=o("880c"),v=o("62cd"),p=o("068f"),u=o("ddd8"),w=o("9c40"),k=o("eebe"),g=o.n(k),h=Object(n["a"])(l,e,i,!1,null,"d65d001a",null);s["default"]=h.exports;g()(h,"components",{QLayout:d["a"],QCarousel:m["a"],QCarouselSlide:v["a"],QImg:p["a"],QSelect:u["a"],QBtn:w["a"]})},a5b3:function(t,s,o){},fce5:function(t,s,o){"use strict";o("a5b3")}}]);