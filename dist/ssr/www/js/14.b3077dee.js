(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"0626":function(t,s,e){"use strict";e("bcb7")},bcb7:function(t,s,e){},ddfe:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"wishlist"},[t.myWishlist&&t.myWishlist.length?t._l(t.myWishlist,(function(s,i){return e("div",{key:"style1-"+i,staticClass:"row item"},[s.photos.length?e("q-img",{staticClass:"image",attrs:{src:s.photos[0].src,width:"212px"}}):t._e(),e("div",{staticClass:"col-4 desc"},[e("div",{staticClass:"title"},[t._v(t._s(s.name))]),e("div",{staticClass:"name"},[t._v("\n            "+t._s(s.seller.firstname)+" "+t._s(s.seller.lastname)+"\n          ")]),e("div",{staticClass:"size"},[t._v("\n            "+t._s(s.commodity.width)+"cmX"+t._s(s.commodity.height)+"cm in - 2019\n          ")])]),e("div",{staticClass:"col-2 row items-center"},[e("div",{staticClass:"btn buy text-white text-center"},[e("div",{staticClass:"btn heart",class:s.hasMyArtwork?"image1":"image2",on:{click:function(e){return t.myArtwork(s,i)}}})])])],1)})):e("div",{staticClass:"noData"},[t._v(t._s(t.$t("my.wishlist.NoData")))])],2),e("div",{staticClass:"history-container"},[e("div",{staticClass:"history relative-position"},[e("div",{staticClass:"text-center title"},[t._v(t._s(t.$t("my.wishlist.YourRecentlyViewedArtworks")))]),e("div",{staticClass:"row"},t._l(t.myBrowsingHistory,(function(s,i){return t.myBrowsingHistory&&t.myBrowsingHistory.length?e("router-link",{key:"style3-"+i,staticClass:"item text-center col-3",attrs:{to:"/"+t.$i18n.locale+"/artwork/"+s.commodity.commodityId}},[e("div",{staticClass:"image"},[s.photos.length?e("q-img",{attrs:{src:s.photos[0].src,width:"198px",height:"300px"}}):t._e()],1),e("div",{staticClass:"text text-left"},[t._v(t._s(s.categorys?s.categorys[0].name:""))]),e("div",{staticClass:"text text-left"},[t._v("\n            "+t._s(s.commodity.width)+"x"+t._s(s.commodity.height)+"cm\n          ")])]):e("div",{staticClass:"noData"},[t._v(t._s(t.$t("my.wishlist.NoData")))])})),1)])])])},o=[],r=(e("4de4"),e("d81d"),e("96cf"),e("c973")),n=e.n(r),a={data:function(){return{myWishlist:[]}},mounted:function(){var t=this;return n()(regeneratorRuntime.mark((function s(){var e,i,o,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log("this.$route",t.$route),e=t.$route.params.locale,i=t.$store.state.user.info.userId,s.next=5,t.$store.dispatch("my/getMyWishlist",{userId:i,locale:e});case 5:return o=s.sent,console.log("myWishlist",o),o.success&&(t.$store.commit("my/setMyWishlist",o.data),t.myWishlist=o.data.map((function(t){return t.hasMyArtwork=!0,t}))),s.next=10,t.$store.dispatch("my/getMyBrowsingHistory",{userId:i,locale:e,pageSize:4,currentPage:1});case 10:r=s.sent,r.success&&t.$store.commit("my/setMyBrowsingHistory",r.data);case 12:case"end":return s.stop()}}),s)})))()},computed:{myBrowsingHistory:function(){return this.$store.state.my.browsingHistory.list}},methods:{myArtwork:function(t,s){var e=this;return n()(regeneratorRuntime.mark((function i(){var o,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(console.log("item",t,s),e.$store.state.user.info){i.next=4;break}return e.$q.notify({position:"top",timeout:1500,message:e.$t("my.wishlist.NoData"),color:"negative"}),i.abrupt("return");case 4:if(!t.hasMyArtwork){i.next=11;break}return i.next=7,e.$store.dispatch("my/delMyArtwork",{userId:e.$store.state.user.info.userId,artworkId:t.commodityId});case 7:o=i.sent,o.success?(e.myWishlist=e.myWishlist.filter((function(s){return s.commodityId==t.commodityId&&(s.hasMyArtwork=!1),t})),e.$q.notify({position:"top",timeout:1500,message:e.$t("my.wishlist.Unlike"),color:"negative"})):e.$q.notify({position:"top",timeout:1500,message:o.msg,color:"negative"}),i.next=15;break;case 11:return i.next=13,e.$store.dispatch("my/addMyArtwork",{userId:e.$store.state.user.info.userId,artworkId:t.commodityId});case 13:r=i.sent,r.success?(e.myWishlist=e.myWishlist.filter((function(s){return s.commodityId==t.commodityId&&(s.hasMyArtwork=!0),t})),e.$q.notify({position:"top",timeout:1500,message:e.$t("my.wishlist.LikeSuccess"),color:"positive"})):e.$q.notify({position:"top",timeout:1500,message:r.msg,color:"negative"});case 15:case"end":return i.stop()}}),i)})))()}}},c=a,m=(e("0626"),e("2877")),l=e("068f"),u=e("eebe"),d=e.n(u),y=Object(m["a"])(c,i,o,!1,null,"2b4937b0",null);s["default"]=y.exports;d()(y,"components",{QImg:l["a"]})}}]);